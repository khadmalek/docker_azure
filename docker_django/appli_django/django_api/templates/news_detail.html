{% extends 'base.html' %}
{% load widget_tweaks %}
{% load static %}

{% block content %}
<div class="relative min-h-screen">
    <img src="{% static 'images/image_connexion.jpeg' %}" class="absolute inset-0 object-cover w-full h-full" alt="" />
    <div class="relative bg-black bg-opacity-50 min-h-screen">
        <svg class="absolute inset-x-0 bottom-0 text-white" viewBox="0 0 1160 163">
            <path
              fill="currentColor"
              d="M-164 13L-104 39.7C-44 66 76 120 196 141C316 162 436 152 556 119.7C676 88 796 34 916 13C1036 -8 1156 2 1216 7.7L1276 13V162.5H1216C1156 162.5 1036 162.5 916 162.5C796 162.5 676 162.5 556 162.5C436 162.5 316 162.5 196 162.5C76 162.5 -44 162.5 -104 162.5H-164V13Z"
            ></path>
          </svg>
        <div class="relative px-4 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-20">
            <div class="flex flex-col items-center justify-between xl:flex-row">
                <div class="w-full max-w-xl mb-12 xl:mb-0 xl:pr-16 xl:w-7/12">
                    <h2 class="max-w-lg mb-6 font-sans text-3xl font-bold tracking-tight text-white sm:text-4xl">
                        Bienvenue sur notre plateforme!
                    </h2>
                    <p class="max-w-xl mb-4 text-base text-gray-200 md:text-lg">
                        Explorez un monde de possibilités avec notre solution. Connectez-vous pour accéder à votre compte.
                    </p>
                </div>
                <div class="w-full max-w-xl xl:px-8 xl:w-5/12">
                    <div class="bg-white rounded shadow-2xl p-7 sm:p-10">
                        <h3 class="mb-4 text-xl font-semibold sm:text-center sm:mb-6 sm:text-2xl">
                            Connectez-vous pour continuer
                        </h3>

                        {% if message %}
                        <div class="mb-4 p-4 rounded-md {% if 'invalides' in message %}bg-red-100 text-red-700{% else %}bg-green-100 text-green-700{% endif %}">
                            {{ message }}
                        </div>
                        {% endif %}

                        {% if messages %}
                            {% for message in messages %}
                                <div class="mb-4 p-4 rounded-md bg-green-100 text-green-700">
                                    {{ message }}
                                </div>
                            {% endfor %}
                        {% endif %}

                        <form class="space-y-6" method="post">
                            {% csrf_token %}
                            
                            <div>
                                <label for="username" class="block text-sm font-medium text-gray-900">
                                    {{ form.username.label }}
                                </label>
                                <div class="mt-2">
                                    {{ form.username|add_class:"block w-full rounded-md bg-white px-3 py-1.5 text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600" }}
                                </div>
                            </div>

                            <div>
                                <div class="flex items-center justify-between">
                                    <label for="password" class="block text-sm font-medium text-gray-900">
                                        {{ form.password.label }}
                                    </label>
                                    <div class="text-sm">
                                        <a href="{% url 'home' %}" class="font-semibold text-indigo-600 hover:text-indigo-500">Mot de passe oublié?</a>
                                    </div>
                                </div>
                                <div class="mt-2">
                                    {{ form.password|add_class:"block w-full rounded-md bg-white px-3 py-1.5 text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600" }}
                                </div>
                            </div>

                            <div>
                                <button type="submit" class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
                                    Se connecter
                                </button>
                            </div>
                        </form>

                        <p class="mt-6 text-center text-sm text-gray-500">
                            Pas encore membre?
                            <a href="{% url 'create_client' %}" class="font-semibold text-indigo-600 hover:text-indigo-500">Créer un compte</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}